// //pseudo code~
// A random number is generated by the computer between 19 and 120 which will be displayed to the player
// There are 4 "elements" each having a random hidden value between 1 and 12
// When the player clicks on a stone it will add a specific number of points to the player's total score

// if (the player's score === the computer's random number){
// 	the player wins, add to their wins counter
// } else if (the player's score > the computer's random number){
// 	the player loses, add to their losses counter
// }

// at the end of each win/loss condition reset the computer's number, the player's score and the values of the crystal

//define the global variables

//set global variables
var wins = 0;
var losses = 0;
var element = $(".element");
var fire = $(".fire");
var water = $(".water");
var earth = $(".earth");
var air = $(".air");
var avatarPower = 0;

var winGifs = ["<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/avatarstate.gif'/>",
			   "<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/avatarstate2.gif'/>",
			   "<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/avatarstate3.gif'/>",
			   "<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/avatarstate4.gif'/>",
			   "<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/avatarstate5.gif'/>"]

var lossGifs =["<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/loss1.gif'/>",
			   "<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/loss2.gif'/>",
			   "<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/loss3.gif'/>",
			   "<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/loss4.gif'/>",
			   "<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/loss5'/>"]

var randomWinGif = winGifs[Math.floor(Math.random() * winGifs.length)];
var randomLossGif = lossGifs[Math.floor(Math.random() * lossGifs.length)];		   


//generate the random number between 19-120
var avatarState = Math.floor(Math.random() * 101) + 19;

$("#result").html("But I believe, Aang can save the world...");
$(".result_gif").html("<video width='100%' height='300' control autoplay><source src='assets/imgs/avatar_video.mp4' type='video/mp4'></video>");

var intializeAvatar = function(){

	avatarState = Math.floor(Math.random() * 101) + 19;
	$("#strength").html(avatarState);
	$("#userStrength").html(avatarPower);

	// generate random numbers between 1-12 for each element

	function generateNum (elementName){
	
	for (var i = 0; i < 4; i++){
	var random = Math.floor(Math.random() * 11) + 1;
	elementName.attr("value", random);
	}}
	generateNum(fire);
	generateNum(earth);
	generateNum(water);
	generateNum(air);

}

intializeAvatar();

//add the values of each element when user clicks the element
element.on("click", function () {
var elementValue = parseInt($(this).attr('value'));
avatarPower += elementValue;

$("#userStrength").html(avatarPower);
console.log(avatarPower);

if (avatarPower > avatarState){
	losses++;
	$("#lose").html(losses);
	$("#result").html("The power overwhelmed Aang! Try Again...");
	$(".result_gif").html(randomLossGif);
	avatarPower = 0;
	intializeAvatar();

	$(".element").on("click", function(){
	$("#result").html("But I believe, Aang can save the world...");
	$(".result_gif").html("<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/peace2.gif'/>");
	});

} 
else if (avatarPower === avatarState){
	wins++;
	$("#win").html(wins);
	$("#result").html("You have achieved the Avatar state!");
	$(".result_gif").html(randomWinGif);
	avatarPower = 0;
	intializeAvatar();

	$(".element").on("click", function(){
	$("#result").html("But I believe, Aang can save the world...")
	$(".result_gif").html("<img class= 'img-fluid mx-auto d-block' width='500px' src='assets/imgs/peace.gif'/>");
	});

}

});

